"use strict";(self.webpackChunknotes_app=self.webpackChunknotes_app||[]).push([[512],{2512:(M,l,c)=>{c.r(l),c.d(l,{RemindersModule:()=>w});var m=c(6814),u=c(5920),e=c(4946),p=c(5619);let g=(()=>{class n{constructor(){this.storageKey="reminders",this.reminders=this.loadNotesFromStorage(),this.remindersSubject$=new p.X(this.reminders)}loadNotesFromStorage(){const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}saveNotesToStorage(){localStorage.setItem(this.storageKey,JSON.stringify(this.reminders))}getNotes(){return this.remindersSubject$.asObservable()}createNote(t){t.reminderId=Date.now(),this.reminders.push(t),this.remindersSubject$.next(this.reminders),this.saveNotesToStorage()}updateNote(t){const o=this.reminders.findIndex(i=>i.reminderId===t.reminderId);-1!==o&&(this.reminders[o]=t,this.remindersSubject$.next(this.reminders),this.saveNotesToStorage())}deleteNote(t){this.reminders=this.reminders.filter(o=>o.reminderId!==t),this.remindersSubject$.next(this.reminders),this.saveNotesToStorage()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d=c(95);let h=(()=>{class n{constructor(){this.reminder={reminderId:0,title:"",tags:[],showOptionsMenu:!1,dueDate:(new Date).toISOString()},this.saveNote=new e.vpe,this.closeForm=new e.vpe,this.reminderTitle="\u0421\u043e\u0431\u044b\u0442\u0438\u0435",this.reminderDate="\u0414\u0430\u0442\u0430",this.reminderSaveBtn="\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",this.reminderCancelBtn="\u041e\u0442\u043c\u0435\u043d\u0430"}onNoteSave(){this.saveNote.emit(this.reminder)}onNoteClose(){this.closeForm.emit()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-reminder-form"]],inputs:{reminder:"reminder"},outputs:{saveNote:"saveNote",closeForm:"closeForm"},decls:14,vars:7,consts:[[1,"reminder-form-container"],[3,"ngSubmit"],["for","title"],["id","title","name","title","autofocus","","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",3,"ngModel","ngModelChange"],["for","date"],["id","date","type","datetime-local","name","date",3,"ngModel","ngModelChange"],["type","submit"],["type","button",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return i.onNoteSave()}),e.TgZ(4,"label",2),e._uU(5),e.qZA(),e.TgZ(6,"input",3),e.NdJ("ngModelChange",function(s){return i.reminder.title=s}),e.qZA(),e.TgZ(7,"label",4),e._uU(8),e.qZA(),e.TgZ(9,"input",5),e.NdJ("ngModelChange",function(s){return i.reminder.dueDate=s}),e.qZA(),e.TgZ(10,"button",6),e._uU(11),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return i.onNoteClose()}),e._uU(13),e.qZA()()()),2&o&&(e.xp6(2),e.Oqu(i.reminder.reminderId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435":"\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435"),e.xp6(3),e.Oqu(i.reminderTitle),e.xp6(1),e.Q6J("ngModel",i.reminder.title),e.xp6(2),e.Oqu(i.reminderDate),e.xp6(1),e.Q6J("ngModel",i.reminder.dueDate),e.xp6(2),e.Oqu(i.reminderSaveBtn),e.xp6(2),e.Oqu(i.reminderCancelBtn))},dependencies:[d._Y,d.Fj,d.JJ,d.JL,d.On,d.F],styles:[".reminder-form-container[_ngcontent-%COMP%]{border:1px solid black;padding:1rem;border-radius:5px;box-shadow:0 2px 5px #0000001a}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}form[_ngcontent-%COMP%]   input[type=datetime-local][_ngcontent-%COMP%]{padding:.4rem}form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}h2[_ngcontent-%COMP%]{margin:0 0 10px;text-align:center}button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid #ccc;border-radius:4px;cursor:pointer;background:white;color:#000}button[_ngcontent-%COMP%]:hover{background:#e5e5e5}"]})}return n})();function _(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onEdit(i))}),e._uU(2),e.qZA(),e.TgZ(3,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,r=e.oxw();return e.KtG(r.onDelete(i.reminderId))}),e._uU(4),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.editButton," "),e.xp6(2),e.hij(" ",t.deleteButton," ")}}function f(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6)(2,"h2"),e._uU(3),e.qZA(),e.TgZ(4,"p",7),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"div",8)(8,"button",9),e.NdJ("click",function(i){const s=e.CHM(t).$implicit,O=e.oxw();return e.KtG(O.toggleOptions(s,i))}),e._uU(9),e.qZA(),e.YNc(10,_,5,2,"div",10),e.qZA()()()}if(2&n){const t=a.$implicit,o=e.oxw();e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(e.xi3(6,4,t.dueDate,"short")),e.xp6(4),e.hij(" ",o.tripleDot," "),e.xp6(1),e.Q6J("ngIf",t.showOptionsMenu)}}function C(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"div",14)(3,"app-reminder-form",15),e.NdJ("saveNote",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.saveReminder(i))})("closeForm",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.closeForm())}),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("reminder",t.selectedReminder)}}const x=[{path:"",component:(()=>{class n{constructor(){this.newReminder="\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435",this.editButton="\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",this.deleteButton="\u0423\u0434\u0430\u043b\u0438\u0442\u044c",this.tripleDot="...",this.reminders=[],this.selectedReminder={reminderId:0,title:"",tags:[],showOptionsMenu:!1,dueDate:(new Date).toISOString()},this.showForm=!1,this.reminderService=(0,e.f3M)(g)}ngOnInit(){this.loadReminders()}loadReminders(){this.reminderService.getNotes().subscribe(t=>{this.reminders=t})}onEdit(t){this.selectedReminder={...t},this.showForm=!0}onDelete(t){this.reminderService.deleteNote(t)}openForm(){this.selectedReminder={reminderId:0,title:"",tags:[],showOptionsMenu:!1,dueDate:(new Date).toISOString()},this.showForm=!0}closeForm(){this.showForm=!1}saveReminder(t){t.reminderId?this.reminderService.updateNote(t):(t.reminderId=Date.now(),this.reminderService.createNote(t)),this.showForm=!1,this.loadReminders()}closeAllMenus(){this.reminders.forEach(t=>t.showOptionsMenu=!1)}toggleOptions(t,o){o.stopPropagation(),this.reminders.forEach(i=>{i!==t&&(i.showOptionsMenu=!1)}),t.showOptionsMenu=!t.showOptionsMenu}handleClick(t){t.target.closest(".options-dropdown")||this.closeAllMenus()}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-reminders-list"]],hostBindings:function(o,i){1&o&&e.NdJ("click",function(s){return i.handleClick(s)},!1,e.evT)},decls:6,vars:3,consts:[[1,"reminders-list-container",3,"click"],["type","button",1,"new-reminder-btn",3,"click"],[1,"reminders-list"],["class","reminders-list-item",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"reminders-list-item"],[1,"reminder-header"],[1,"reminder-due-date"],[1,"reminder-actions"],[1,"options-btn",3,"click"],["class","options-dropdown",4,"ngIf"],[1,"options-dropdown"],[3,"click"],[1,"modal"],[1,"modal-content"],[3,"reminder","saveNote","closeForm"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e.NdJ("click",function(s){return i.handleClick(s)}),e.TgZ(1,"button",1),e.NdJ("click",function(){return i.openForm()}),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,f,11,7,"div",3),e.qZA(),e.YNc(5,C,4,1,"ng-container",4),e.qZA()),2&o&&(e.xp6(2),e.hij(" ",i.newReminder," "),e.xp6(2),e.Q6J("ngForOf",i.reminders),e.xp6(1),e.Q6J("ngIf",i.showForm))},dependencies:[m.sg,m.O5,h,m.uU],styles:[".reminders-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem 0}.reminders-list[_ngcontent-%COMP%]{width:50%}.reminders-list-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;cursor:pointer;transition:all ease-in-out .2s;box-shadow:0 2px 8px #0000001a;margin-bottom:15px;padding:.5rem}.reminders-list-item[_ngcontent-%COMP%]:hover{background-color:#e3e5ea}.reminders-list-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:.5rem;padding:0;max-height:10rem;overflow:hidden;text-overflow:ellipsis}.reminder-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.reminder-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{width:75%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.reminder-header[_ngcontent-%COMP%]   .reminder-due-date[_ngcontent-%COMP%]{font-size:.9rem;color:#555;margin-left:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.reminder-actions[_ngcontent-%COMP%]{position:relative}.options-container[_ngcontent-%COMP%]{position:relative;display:inline-block}.options-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;font-size:1.5rem;border-radius:5px}.options-btn[_ngcontent-%COMP%]:hover{background-color:#d1d3d4}.options-dropdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:100%;right:0;background:white;border:1px solid #ddd;border-radius:5px;box-shadow:0 2px 5px #0000001a;z-index:1;width:max-content}.options-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;border:none;background:none;cursor:pointer;text-align:left}.options-dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e2e6e9}.new-reminder-btn[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;border:none;cursor:pointer;box-shadow:0 2px 8px #0000001a;margin-bottom:15px;text-align:center;width:50%;padding:1rem 0;font-size:1rem;color:#2c2d2e}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,.5);z-index:1}.modal-content[_ngcontent-%COMP%]{background:white;padding:2rem;border-radius:5px;width:100%;max-width:500px}"]})}return n})()}];let b=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(x),u.Bz]})}return n})(),w=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[m.ez,b,d.u5,d.UX]})}return n})()}}]);